# Requirements Management

This directory contains the dependency management files for the SmartApply project, following modern Python best practices.

## Structure

```
requirements/
├── base.in              # Input file for pip-tools (loose version constraints)
├── base.txt             # Generated pinned dependencies (production-ready)
├── development.txt      # Development tools + base requirements
├── production.txt       # Production deployment (just base.txt)
└── README.md           # This file
```

## Usage

### Installation Options

**Development Environment (recommended):**
```bash
pip install -r requirements/development.txt
```

**Production Deployment:**
```bash
pip install -r requirements/production.txt
```

**Base Dependencies Only:**
```bash
pip install -r requirements/base.txt
```

### Dependency Management with pip-tools

**Install pip-tools:**
```bash
pip install pip-tools
```

**Update dependencies:**
```bash
# Update base requirements
pip-compile requirements/base.in --output-file=requirements/base.txt

# Update development requirements (if needed)
pip-compile requirements/development.in --output-file=requirements/development.txt
```

**Add new dependencies:**
1. Add the dependency to `pyproject.toml` under the appropriate section
2. Run `pip-compile` to update the pinned versions
3. Install the updated requirements

## File Descriptions

### base.in
- Contains loose version constraints for main dependencies
- Used as input for `pip-compile` to generate `base.txt`
- Should mirror the `dependencies` section in `pyproject.toml`

### base.txt
- Generated by `pip-compile` with pinned versions
- Contains all transitive dependencies with exact versions
- Used for reproducible builds in production

### development.txt
- Includes base requirements plus development tools
- Testing frameworks, code quality tools, documentation generators
- Not needed for production deployment

### production.txt
- Simple file that includes only `base.txt`
- Used for clean production deployments

## Best Practices

1. **Version Pinning**: Production should use pinned versions from `base.txt`
2. **Reproducibility**: Always use `pip-compile` to generate requirements files
3. **Security**: Regularly update dependencies to get security patches
4. **Testing**: Test with both loose and pinned versions

## Update Process

1. Update version constraints in `pyproject.toml`
2. Run `pip-compile requirements/base.in --output-file=requirements/base.txt`
3. Test the application with the new dependencies
4. Commit the updated `base.txt` file

## Related Files

- `pyproject.toml` - Modern packaging configuration with dependency declarations
- `.github/workflows/` - CI/CD pipelines that use these requirements
- `Dockerfile` - Container builds that reference these files
